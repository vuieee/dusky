# -------------------------------------------------------------------------------------------------
# THEME SOURCE
# -------------------------------------------------------------------------------------------------
# Sourcing colors generated by Matugen
source = ~/.config/matugen/generated/hyprland-colors.conf

# -------------------------------------------------------------------------------------------------
# 1. GENERAL APPEARANCE
# Control gaps, borders, and layout behavior.
# See: https://wiki.hyprland.org/Configuring/Variables/#general
# -------------------------------------------------------------------------------------------------
general {
    # --- Gaps & Borders ---
    gaps_in = 6                 # Gap between windows
    gaps_out = 12               # Gap between windows and monitor edges
    gaps_workspaces = 0         # Gap between workspaces (when sliding)
    border_size = 2             # Size of window borders

    # --- Colors ---
    # Uses variables from the sourced matugen file
    col.active_border = $primary
    col.inactive_border = $inverse_on_surface 

    # --- Behavior ---
    # RESIZING: Set to true. This allows you to resize windows by clicking and dragging 
    # on the gaps/border area, rather than hitting the exact 2px pixel border.
    resize_on_border = false

    # TEARING: Allows lower latency in games. 
    # NOTE: To use this, you must also apply 'windowrulev2 = immediate, class:^(game_class)$'
    allow_tearing = true

    # Default layout engine
    layout = dwindle

    # --- Snapping ---
    # Controls how floating windows snap to each other and edges
    snap {
        enabled = false
        window_gap = 10         # Min gap (px) before snapping to another window
        monitor_gap = 10        # Min gap (px) before snapping to monitor edge
        border_overlap = false  # If true, windows snap with overlapping borders
    }
}

# -------------------------------------------------------------------------------------------------
# 2. DECORATION
# Shadows, Blur, Opacity, and Rounding.
# See: https://wiki.hyprland.org/Configuring/Variables/#decoration
# -------------------------------------------------------------------------------------------------
decoration {
    # --- Rounding ---
    rounding = 6
    rounding_power = 6.0

    # --- Opacity ---
    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0

    # --- Dimming ---
    dim_inactive = true
    dim_strength = 0.2
    dim_special = 0.8           # Stronger dimming for special workspace

    # --- Shadows ---
    # Enabled because your hardware (12700H) can easily handle it.
    shadow {
        enabled = false
        range = 35
        render_power = 2        # 1-4. Higher is faster falloff (sharper looking)
        sharp = false           # If true, renders a sharp shadow (retro style)
        ignore_window = true    # If true, shadow isn't rendered behind the window itself
        scale = 1.0             # Scale of the shadow (1.0 = window size)
        color = rgba(1a1a1aee)
        # color = $primary
        # offset = 0 0          # Displaces shadow (x, y)
    }

    # --- Blur ---
    # Enabled for aesthetic depth.
    blur {
        enabled = false
        size = 4                # Radius
        passes = 2              # Quality (2 is a good balance of perf/looks)
        new_optimizations = true
        ignore_opacity = true   # Blurs behind transparent windows even if opacity is high
        xray = false            # If true, floating windows "see through" tiled ones
        
        # Texture & Quality
        noise = 0.0117          # Adds grain to prevent color banding
        contrast = 0.8916       # Contrast modulation for blur
        brightness = 0.8172     # Brightness modulation for blur
        vibrancy = 0.1696       # Saturation of blurred colors
        
        # Specifics
        popups = false          # Whether to blur right-click menus/popups
    }

    # --- Shaders ---
    # screen_shader = ~/.config/hypr/shaders/grayscale_advanced.glsl
}

# -------------------------------------------------------------------------------------------------
# 3. ANIMATIONS
# See: https://wiki.hyprland.org/Configuring/Animations/
# -------------------------------------------------------------------------------------------------

source = ~/.config/hypr/source/animations/active/active.conf

# -------------------------------------------------------------------------------------------------
# 4. LAYOUTS
# -------------------------------------------------------------------------------------------------
dwindle {
    pseudotile = true
    preserve_split = true
    # smart_split = false     # If true, splits based on mouse position.
    # smart_resizing = false  # If true, resizing direction is determined by mouse pos.
}

master {
    new_status = master
}

# -------------------------------------------------------------------------------------------------
# 5. MISCELLANEOUS & PERFORMANCE
# See: https://wiki.hyprland.org/Configuring/Variables/#misc
# -------------------------------------------------------------------------------------------------
misc {
    force_default_wallpaper = 1     # Set to 0 to enable the anime mascot
    disable_hyprland_logo = true
    disable_splash_rendering = true
}

# -------------------------------------------------------------------------------------------------
# 6. BINDS (Visual specific)
# -------------------------------------------------------------------------------------------------
binds {
    allow_pin_fullscreen = true
}

# debug {
#    overlay = true
# }
